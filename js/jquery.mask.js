(function(c){var v=function(a,f,b){var d=this;a=c(a);var h;f="function"==typeof f?f(a.val(),b):f;d.init=function(){b=b||{};d.byPassKeys=[8,9,37,38,39,40,46];d.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};d.translation=c.extend({},d.translation,b.translation);d=c.extend(!0,{},d,b);a.each(function(){a.attr("maxlength",f.length).attr("autocomplete","off");e.destroyEvents();e.events()})};var e={events:function(){a.on("keydown.mask",function(){h=
e.val()});a.on("keyup.mask",e.behaviour);a.on("paste.mask",function(){setTimeout(function(){a.keydown().keyup()},100)})},destroyEvents:function(){a.off("keyup.mask").off("paste.mask").off("keydown.mask")},val:function(r){var b="input"===a.get(0).tagName.toLowerCase();return 0<arguments.length?b?a.val(r):a.text(r):b?a.val():a.text()},behaviour:function(a){a=a||window.event;if(-1===c.inArray(a.keyCode||a.which,d.byPassKeys))return e.val(e.getMasked()),e.callbacks(a)},getMasked:function(){var a=[],c=
e.val(),g=0,t=f.length,k=0,h=c.length,l=1,m="push";if(b.reverse){m="unshift";l=-1;g=t-1;k=h-1;var u=function(){return-1<g&&-1<k}}else u=function(){return g<t&&k<h};for(;u();){var n=f.charAt(g),p=d.translation[n],q=c.charAt(k);p?(q.match(p.pattern)?(a[m](q),g+=l):1==p.optional&&(g+=l,k-=l),k+=l):(a[m](n),q==n&&(k+=l),g+=l)}return a.join("")},callbacks:function(c){var d=e.val(),g=e.val()!==h;if(!0===g&&"function"==typeof b.onChange)b.onChange(d,c,a,b);if(!0===g&&"function"==typeof b.onKeyPress)b.onKeyPress(d,
c,a,b);if("function"===typeof b.onComplete&&d.length===f.length)b.onComplete(d,c,a,b)}};d.remove=function(){e.destroyEvents();e.val(d.getCleanVal()).removeAttr("maxlength")};d.getCleanVal=function(){for(var a=[],c=e.val(),b=0,h=f.length;b<h;b++)d.translation[f.charAt(b)]&&a.push(c.charAt(b));return a.join("")};d.init()};c.fn.mask=function(a,f){return this.each(function(){c(this).data("mask",new v(this,a,f))})};c.fn.unmask=function(){return this.each(function(){c(this).data("mask").remove()})};c("input[data-mask]").each(function(){c(this).mask(c(this).attr("data-mask"))})})(window.jQuery||
window.Zepto);